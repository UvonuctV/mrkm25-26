# –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞ —Ä–æ–±–æ—Ç–∞ ‚Ññ2: –ê–Ω–∞–ª—ñ–∑ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ñ–≤ OpenSSL

**–î–∏—Å—Ü–∏–ø–ª—ñ–Ω–∞:** –ú–µ—Ç–æ–¥–∏ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ—ñ—á–Ω–∏—Ö –º–µ—Ö–∞–Ω—ñ–∑–º—ñ–≤ (–ú–†–ö–ú)  
**–£–Ω—ñ–≤–µ—Ä—Å–∏—Ç–µ—Ç:** –ö–ü–Ü —ñ–º. –Ü–≥–æ—Ä—è –°—ñ–∫–æ—Ä—Å—å–∫–æ–≥–æ, –§—ñ–∑–∏–∫–æ-—Ç–µ—Ö–Ω—ñ—á–Ω–∏–π —ñ–Ω—Å—Ç–∏—Ç—É—Ç  
**–ì—Ä—É–ø–∞:** –§–ë-41–º–Ω  
**–í–∏–∫–æ–Ω–∞–≤—Ü—ñ:** –ó—É–±–∫–æ –î. –ï., –¢–∏–≤–æ–Ω—é–∫ –í. –Ü.  
**–ü—ñ–¥–≥—Ä—É–ø–∞:** 2–ê  
**–î–∞—Ç–∞:** 29.10.2025

## üìã –ú–µ—Ç–∞ —Ç–∞ –∑–∞–≤–¥–∞–Ω–Ω—è

–î–æ—Å–ª—ñ–¥–∏—Ç–∏ –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å —Ç–∞ —Å—Ç—ñ–π–∫—ñ—Å—Ç—å –æ—Å–Ω–æ–≤–Ω–∏—Ö –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ—ñ—á–Ω–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ **OpenSSL** –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ñ Windows:
1.  **–ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –ø—Å–µ–≤–¥–æ–≤–∏–ø–∞–¥–∫–æ–≤–∏—Ö –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ—Å—Ç–µ–π (–ü–í–ü)** –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `RAND_bytes`.
2.  **–ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –∞—Å–∏–º–µ—Ç—Ä–∏—á–Ω–∏—Ö –∫–ª—é—á—ñ–≤** –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `RSA_generate_key_ex` –¥–ª—è –¥–æ–≤–∂–∏–Ω 1024, 2048 —Ç–∞ 4096 –±—ñ—Ç.

## üîß –Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ —Ç–∞ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ

*   **–ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∞:** OpenSSL 3.x (Win64)
*   **–ú–æ–≤–∞:** C++
*   **–ö–æ–º–ø—ñ–ª—è—Ç–æ—Ä:** Visual Studio 2022 Build Tools (MSVC x64)
*   **–û–°:** Windows 11 x64

## üöÄ –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è —Ç–∞ –∫–æ–¥

–î–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –±—É–ª–æ –Ω–∞–ø–∏—Å–∞–Ω–æ –ø—Ä–æ–≥—Ä–∞–º—É –Ω–∞ C++, —è–∫–∞ –≤–∏–∫–æ–Ω—É—î –Ω–∞—Å—Ç—É–ø–Ω—ñ –¥—ñ—ó:
1.  **–¢–µ—Å—Ç—É—î `RAND_bytes`:** –ì–µ–Ω–µ—Ä—É—î –≤–µ–ª–∏–∫—É –ø–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—å –±–∞–π—Ç—ñ–≤, –ø—Ä–æ–≤–æ–¥–∏—Ç—å —ó—ó —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω–∏–π –∞–Ω–∞–ª—ñ–∑ –Ω–∞ —Ä—ñ–≤–Ω–æ–º—ñ—Ä–Ω—ñ—Å—Ç—å —Ç–∞ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –ø–∞—Ç–µ—Ä–Ω—ñ–≤, –∞ —Ç–∞–∫–æ–∂ –ø–µ—Ä–µ–≤—ñ—Ä—è—î —É–Ω—ñ–∫–∞–ª—å–Ω—ñ—Å—Ç—å –∫–æ—Ä–æ—Ç–∫–∏—Ö –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ—Å—Ç–µ–π.
2.  **–¢–µ—Å—Ç—É—î `RSA_generate_key_ex`:** –í–∏–∫–æ–Ω—É—î –ø–æ 10 –∑–∞–ø—É—Å–∫—ñ–≤ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó RSA –∫–ª—é—á—ñ–≤ –¥–ª—è –∫–æ–∂–Ω–æ—ó –¥–æ–≤–∂–∏–Ω–∏ (1024, 2048, 4096), –≤–∏–º—ñ—Ä—é—î —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Ç–∞ —Ä–æ–∑—Ä–∞—Ö–æ–≤—É—î —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É (—Å–µ—Ä–µ–¥–Ω—î, —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–µ –≤—ñ–¥—Ö–∏–ª–µ–Ω–Ω—è, –∫–æ–µ—Ñ—ñ—Ü—ñ—î–Ω—Ç –≤–∞—Ä—ñ–∞—Ü—ñ—ó).

#### **–ö–æ–º–∞–Ω–¥–∞ –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó:**
```bash
cl lab_openssl.cpp /EHsc /std:c++17 /I "C:\Program Files\OpenSSL-Win64\include" /link /LIBPATH:"C:\Program Files\OpenSSL-Win64\lib\VC\x64\MD" libcrypto.lib libssl.lib Ws2_32.lib Gdi32.lib
```

#### **–§—Ä–∞–≥–º–µ–Ω—Ç –∫–æ–¥—É –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è `RAND_bytes`:**
```cpp
// ...
const size_t buffer_size = 4096;
unsigned char buffer[buffer_size];

auto start = std::chrono::high_resolution_clock::now();
int ret = RAND_bytes(buffer, buffer_size);
auto end = std::chrono::high_resolution_clock::now();
// ...
```

#### **–§—Ä–∞–≥–º–µ–Ω—Ç –∫–æ–¥—É –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è `RSA_generate_key_ex`:**
```cpp
// ...
for (int bits : key_lengths) {
    for (int run = 1; run <= num_runs; run++) {
        auto start = std::chrono::high_resolution_clock::now();
        // ...
        RSA_generate_key_ex(rsa_key, bits, bne, NULL);
        // ...
        auto end = std::chrono::high_resolution_clock::now();
        durations.push_back(duration.count());
    }
    // –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏...
}
```

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ñ–≤

### 1. –ê–Ω–∞–ª—ñ–∑ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ –ü–í–ü (`RAND_bytes`)

#### **–°—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω–∏–π –∞–Ω–∞–ª—ñ–∑ –≤–∏–ø–∞–¥–∫–æ–≤–æ—Å—Ç—ñ (–Ω–∞ 20000 –±–∞–π—Ç)**
-   **–û—á—ñ–∫—É–≤–∞–Ω–∞ —á–∞—Å—Ç–æ—Ç–∞ –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –±–∞–π—Ç–∞:** 78.125
-   **–•—ñ-–∫–≤–∞–¥—Ä–∞—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:** `270.822` (–æ—á—ñ–∫—É—î—Ç—å—Å—è ~255)
-   **–†–µ–∑—É–ª—å—Ç–∞—Ç:** **–¢–ï–°–¢ –ü–†–û–ô–î–ï–ù–û**. –†–æ–∑–ø–æ–¥—ñ–ª –±–∞–π—Ç—ñ–≤ —î —Ä—ñ–≤–Ω–æ–º—ñ—Ä–Ω–∏–º.

-   **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ —á–∞—Å—Ç–æ—Ç–∞ –ø–æ–≤—Ç–æ—Ä–µ–Ω–Ω—è –ø–∞—Ä–∏ –±–∞–π—Ç—ñ–≤:** 4
-   **–†–µ–∑—É–ª—å—Ç–∞—Ç:** **–¢–ï–°–¢ –ü–†–û–ô–î–ï–ù–û**. –û—á–µ–≤–∏–¥–Ω—ñ –ø–∞—Ç–µ—Ä–Ω–∏ –Ω–µ –≤–∏—è–≤–ª–µ–Ω–æ.

#### **–¢–µ—Å—Ç —É–Ω—ñ–∫–∞–ª—å–Ω–æ—Å—Ç—ñ (10 –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ—Å—Ç–µ–π –ø–æ 32 –±–∞–π—Ç–∏)**
–£—Å—ñ 10 –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–∏—Ö –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ—Å—Ç–µ–π –≤–∏—è–≤–∏–ª–∏—Å—è —É–Ω—ñ–∫–∞–ª—å–Ω–∏–º–∏, —â–æ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂—É—î –Ω–µ–ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω—ñ—Å—Ç—å –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞.

### 2. –ê–Ω–∞–ª—ñ–∑ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ –∫–ª—é—á—ñ–≤ RSA

#### **–ü–æ—Ä—ñ–≤–Ω—è–ª—å–Ω–∞ —Ç–∞–±–ª–∏—Ü—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ**

| –î–æ–≤–∂–∏–Ω–∞ –∫–ª—é—á–∞ | –°–µ—Ä–µ–¥–Ω—ñ–π —á–∞—Å (—Å) | –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–µ –≤—ñ–¥—Ö–∏–ª–µ–Ω–Ω—è (—Å) | –ö–æ–µ—Ñ—ñ—Ü—ñ—î–Ω—Ç –≤–∞—Ä—ñ–∞—Ü—ñ—ó |
|:---|---:|---:|---:|
| **1024 –±—ñ—Ç** | 0.0088 | 0.0025 | 28.2% |
| **2048 –±—ñ—Ç** | 0.0425 | 0.0266 | **62.5%** |
| **4096 –±—ñ—Ç** | 0.4781 | 0.1479 | 31.0% |

#### **–í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è —á–∞—Å—É –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó**
```
–ß–∞—Å –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó RSA –∫–ª—é—á—ñ–≤ (—Å–µ—Ä–µ–¥–Ω—î –∑ 10 –∑–∞–ø—É—Å–∫—ñ–≤)

1024 –±—ñ—Ç: ‚ñá‚ñá (0.009 —Å)
2048 –±—ñ—Ç: ‚ñá‚ñá‚ñá‚ñá‚ñá‚ñá‚ñá‚ñá‚ñá (0.043 —Å)
4096 –±—ñ—Ç: ‚ñá‚ñá‚ñá‚ñá‚ñá‚ñá‚ñá‚ñá‚ñá‚ñá‚ñá‚ñá‚ñá‚ñá‚ñá‚ñá‚ñá‚ñá‚ñá‚ñá‚ñá‚ñá‚ñá‚ñá‚ñá‚ñá‚ñá‚ñá‚ñá‚ñá‚ñá‚ñá‚ñá‚ñá‚ñá‚ñá‚ñá‚ñá‚ñá‚ñá‚ñá‚ñá‚ñá‚ñá‚ñá‚ñá‚ñá‚ñá‚ñá‚ñá (0.478 —Å)
```

---

## üîç –í–∏—Å–Ω–æ–≤–∫–∏

1.  **–ì–ü–í–ü `RAND_bytes` —î –Ω–∞–¥—ñ–π–Ω–∏–º.** –°—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω—ñ —Ç–µ—Å—Ç–∏ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂—É—é—Ç—å, —â–æ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä OpenSSL –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ñ Windows –ø—Ä–æ–¥—É–∫—É—î —è–∫—ñ—Å–Ω—ñ, –Ω–µ–ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω—ñ –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ—Å—Ç—ñ, —è–∫—ñ –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –¥–ª—è –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ—ñ—á–Ω–∏—Ö –∑–∞–≤–¥–∞–Ω—å.

2.  **–ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –∫–ª—é—á—ñ–≤ RSA —î –æ–±—á–∏—Å–ª—é–≤–∞–ª—å–Ω–æ –¥–æ—Ä–æ–≥–æ—é.** –ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å –µ–∫—Å–ø–æ–Ω–µ–Ω—Ü—ñ–π–Ω–æ –ø–∞–¥–∞—î –∑—ñ –∑–±—ñ–ª—å—à–µ–Ω–Ω—è–º –¥–æ–≤–∂–∏–Ω–∏ –∫–ª—é—á–∞. –ü–æ–¥–≤–æ—î–Ω–Ω—è –¥–æ–≤–∂–∏–Ω–∏ –∑ 2048 –¥–æ 4096 –±—ñ—Ç –∑–±—ñ–ª—å—à—É—î —Å–µ—Ä–µ–¥–Ω—ñ–π —á–∞—Å –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó **–±—ñ–ª—å—à –Ω—ñ–∂ –≤ 11 —Ä–∞–∑—ñ–≤**.

3.  **–ß–∞—Å –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó RSA —î –Ω–µ—Å—Ç–∞–±—ñ–ª—å–Ω–∏–º.** –í–∏—Å–æ–∫–∏–π –∫–æ–µ—Ñ—ñ—Ü—ñ—î–Ω—Ç –≤–∞—Ä—ñ–∞—Ü—ñ—ó (–æ—Å–æ–±–ª–∏–≤–æ **62.5%** –¥–ª—è 2048-–±—ñ—Ç–Ω–∏—Ö –∫–ª—é—á—ñ–≤) —Å–≤—ñ–¥—á–∏—Ç—å –ø—Ä–æ –∑–Ω–∞—á–Ω–∏–π —Ä–æ–∑–∫–∏–¥ —É —á–∞—Å—ñ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è. –ê–ª–µ —Ü–µ —Ç–∞–∫–æ–∂ –π–æ–≥–æ —Ä–æ–±–∏—Ç—å —Å—Ç—ñ–π–∫—ñ—à—ñ–º–∏ –¥–æ —Ç–∞–π–º—ñ–Ω–≥-–±–µ–π—Å–¥ –∞—Ç–∞–∫ —ñ –ø–µ—Ä–µ—Ö–æ–ø–ª–µ–Ω–Ω—è –æ–∫—Ä–µ–º–∏—Ö –±—ñ—Ç—ñ–≤, –∞–¥–∂–µ —Ç–æ—á–Ω–∏—Ö —á–∞—Å–æ–≤–∏—Ö —Ä–∞–º–æ–∫ –Ω–µ–º–∞—î. 
